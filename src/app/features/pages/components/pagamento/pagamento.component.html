<div class="container">
  <h2>Finalizar Compra</h2>

  <div class="pagamento-container">
    <!-- Formulário de Informações Pessoais -->
    <div class="informacoes">
      <h3>Informações Pessoais</h3>
      <form>
        <label for="nome">Nome Completo:</label>
        <input type="text" id="nome" placeholder="Insira seu nome" required />

        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" placeholder="Insira seu CPF" required />

        <label for="email">E-mail:</label>
        <input type="email" id="email" placeholder="Insira seu e-mail" required />

        <label for="celular">Celular:</label>
        <input type="tel" id="celular" placeholder="Insira seu celular" required />

        <button type="button" (click)="finalizarCompra()">Finalizar Compra</button>
      </form>
    </div>

    <!-- Resumo da Compra -->
    <div class="resumo">
      <h3>Resumo da Compra</h3>

      <div *ngFor="let product of cartProducts">
        <p><strong>Produto:</strong> {{ product.name }}</p>
        <p><strong>Preço:</strong> {{ product.price }}</p>
        <hr />
      </div>

      <p><strong>Subtotal:</strong> R$ {{ subtotal.toFixed(2) }}</p>
      <p><strong>Desconto:</strong> R$ {{ desconto.toFixed(2) }}</p>
      <h4><strong>Total:</strong> R$ {{ total.toFixed(2) }}</h4>

      <button class="btn-pagamento" (click)="mostrarOpcoesPagamento()">
        Realizar Pagamento
      </button>

      <!-- Opções de pagamento -->
      <div *ngIf="exibirOpcoesPagamento" class="opcoes-pagamento">
        <h4>Escolha o Método de Pagamento</h4>
        <button (click)="selecionarPagamento('credito')">
          Cartão de Crédito
        </button>
        <button (click)="selecionarPagamento('debito')">
          Cartão de Débito
        </button>
        <button (click)="selecionarPagamento('pix')">Pix</button>
        <button (click)="selecionarPagamento('boleto')">Boleto Bancário</button>
      </div>

      <!-- Exibição do QR Code -->
      <div *ngIf="qrCodeBase64">
        <h3>QR Code Pix</h3>
        <img [src]="qrCodeBase64" alt="QR Code Pix" />
      </div>
    </div>
  </div>
</div>
